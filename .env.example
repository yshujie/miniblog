# MiniBlog Application Configuration
# 复制此文件为 .env 并修改配置

# =====================================
# 应用基本配置
# =====================================
PROJECT_NAME=miniblog
VERSION=latest
COMPOSE_PROJECT_NAME=miniblog

# =====================================
# 数据库配置 (连接到 infra 项目提供的 MySQL)
# =====================================
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_DATABASE=miniblog
MYSQL_USERNAME=miniblog
MYSQL_PASSWORD=change_this_password_in_production
MYSQL_ROOT_PASSWORD=change_this_root_password_in_production
# New viper-prefixed variables (backend读取 MINIBLOG_* 覆盖配置)
MINIBLOG_DATABASE_HOST=${MYSQL_HOST}
MINIBLOG_DATABASE_PORT=${MYSQL_PORT}
MINIBLOG_DATABASE_DBNAME=${MYSQL_DATABASE}
MINIBLOG_DATABASE_USERNAME=${MYSQL_USERNAME}
MINIBLOG_DATABASE_PASSWORD=${MYSQL_PASSWORD}

# =====================================
# Redis 配置 (连接到 infra 项目提供的 Redis)
# =====================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change_this_redis_password_in_production
REDIS_DB=1
MINIBLOG_REDIS_HOST=${REDIS_HOST}
MINIBLOG_REDIS_PORT=${REDIS_PORT}
MINIBLOG_REDIS_PASSWORD=${REDIS_PASSWORD}
MINIBLOG_REDIS_DB=${REDIS_DB}

# =====================================
# JWT 配置
# =====================================
JWT_SECRET=change_this_jwt_secret_key_to_something_very_secure_in_production_at_least_32_characters
MINIBLOG_JWT_SECRET=${JWT_SECRET}
JWT_TIMEOUT=24h
JWT_MAX_REFRESH=24h

# =====================================
# 应用运行配置
# =====================================
GIN_MODE=release
DEBUG=false
LOG_LEVEL=info
LOG_PATH=./logs

# =====================================
# API 配置
# =====================================
API_PREFIX=/api/v1
SERVER_PORT=8080

# =====================================
# 前端配置
# =====================================
NODE_ENV=production
VITE_API_URL=http://localhost/api/v1
VUE_APP_API_URL=http://localhost/api/v1

# =====================================
# 域名配置 (用于 nginx 路由)
# =====================================
DOMAIN=localhost
BLOG_DOMAIN=localhost
ADMIN_DOMAIN=admin.localhost

# =====================================
# 飞书配置 (可选)
# =====================================
FEISHU_DOCREADER_APPID=
FEISHU_DOCREADER_APPSECRET=
MINIBLOG_FEISHU_DOCREADER_APPID=${FEISHU_DOCREADER_APPID}
MINIBLOG_FEISHU_DOCREADER_APPSECRET=${FEISHU_DOCREADER_APPSECRET}

# =====================================
# Docker 构建配置
# =====================================
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# =====================================
# 安全配置
# =====================================
# 生产环境请务必修改以下密钥
ENCRYPTION_KEY=change_this_encryption_key_in_production
COOKIE_SECRET=change_this_cookie_secret_in_production
